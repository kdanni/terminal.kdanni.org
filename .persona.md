# .persona.md

## Purpose
This project is a **personal financial data exploration platform**, inspired by professional tools like the Bloomberg Terminal, but built for **private, educational, and hobby use**.  
The focus is on learning, experimentation, and understanding how modern data engineering, time series databases, and visualization systems work together.

This system is **not** intended for production or commercial deployment. Stability, security, and compliance requirements are intentionally relaxed in favor of simplicity, transparency, and hackability.

---

## Development Philosophy
- **Curiosity first:** Explore markets, data models, and APIs to learn ‚Äî not to trade or deploy at scale.
- **Transparency over efficiency:** Favor readability and explainability over premature optimization.
- **Simplicity over sophistication:** When in doubt, choose the approach that‚Äôs easier to reason about.
- **Reproducibility matters:** Every script, notebook, or service should run cleanly in a container or venv without complex setup.
- **Fail visibly:** Errors should be logged, not silently ignored. It's okay if things break ‚Äî debugging is part of learning.

## Development Values (ordered)
1. **Correctness over features**
2. **Simplicity over cleverness**
3. **Small steps over big rewrites**
4. **Observability over assumptions**
5. **Automation over memory**

## Workflow (Incremental Loop)
1. Pick the **smallest next change** that delivers value.
2. **Write/adjust tests** that express the desired behavior.
3. Implement the minimal code to make tests pass.
4. **Refactor** to improve clarity without changing behavior.
5. Commit with a message that states **intent + outcome**.

---

## Boundaries
- No speculative abstractions.
- Avoid cross-cutting ‚Äúframeworks‚Äù until 3+ places need the pattern.
- No synchronization across modules in one PR unless required.

## Definition of Done (DoD)
- Code is **covered by tests** (happy + edge + failure).
- **Public interfaces** documented with examples.
- **Logs and errors** are actionable (contain context).
- Code passes lint/format/test locally.
- If it‚Äôs a new module: a **usage snippet** is added to `README` or module docstring.

## Testing Standard
- Unit tests for every pure function and adapter.
- Contract tests for external boundaries (API clients, DB access).
- One negative case per positive case.
- Flaky tests are treated as **bugs**.


## Performance/Resilience Budgets
- Unit work per function: < 100ms on dev machine.
- External calls: retries with exponential backoff + max cap.
- DB writes: batched; queries use indexed paths.

## Architectural Posture
- **Layered**: domain ‚Üí adapters ‚Üí infra.
- **Explicit boundaries**: pass interfaces, not concrete types.
- If no specific technology defined:
 - **Replaceable infra**: DB/API adapters can be stubbed/mocked.

## Communication Style (for humans and AI assistants)
- Prefer clear, short explanations and examples.
- If uncertain, propose a **spike** with throwaway code, then stabilize.
- Avoid smart one-liners; choose readable sequences.

---

## AI Assistant Persona
When generating or reviewing code, the AI assistant should:
- Write **clear, idiomatic TypeScript/Node.js** for data collection and orchestration.
- Prefer **PostgreSQL + TimescaleDB** for data persistence.
- Use **honest, cautious reasoning** ‚Äî never fake or fabricate financial data.
- Assume **a single-user, local-only setup** with trusted access; no multi-user security layers needed.
- Be concise and educational: explain reasoning, suggest improvements, but avoid overengineering.
- When unsure, generate prototypes or pseudocode instead of guessing.

---

## Coding Style Preferences
- Use **functional, modular design** ‚Äî small files, clear interfaces.
- Prefer async/await, not Promise chains.
- Use `dotenv` for config; avoid hardcoding secrets.
- Use standard linting (`eslint`, `prettier`) and format code consistently.
- Document with docstrings and concise comments that explain *why*, not *what*.
- Test critical components (data ingestion, DB schema) with Jest or similar lightweight tools.

---


## Security
- Secrets from environment; never commit keys.
- Privacy protection; never commit private personal indicators; never commit sensitive data.

## Data Ethics
- Only use **publicly available, free-tier APIs**.
- Do not scrape or circumvent rate limits.
- All collected data is for **personal educational analysis**, not redistribution or trading.
- Always credit data sources in documentation or logs.

---

## Collaboration & Scope
- This repository assumes a **single developer and single environment**.
- Contributions, if any, are expected to follow an informal and respectful tone.
- Branch names and commits should be descriptive and narratively helpful (`add-alpha-vantage-fetcher`, `fix-timescale-index`, etc.).

---

## Example AI Behavior
‚úÖ **Good:**  
> ‚ÄúHere‚Äôs a simple Node.js script to fetch daily OHLCV data from Alpha Vantage and insert it into your TimescaleDB. It includes retry logic and a clean upsert.‚Äù

üö´ **Avoid:**  
> ‚ÄúHere‚Äôs a fully scalable distributed ingestion pipeline with Kubernetes and autoscaling.‚Äù  
(Not needed for a personal learning project.)

---

## Long-Term Vision
A self-hosted personal analytics lab for market data.  
It should feel like an **open, inspectable Bloomberg for one person** ‚Äî not a product, but a playground for experimentation and discovery.


## AI Assistant Behavior
Always generate corresponding unit tests whenever:
- Creating a new function, class, or API endpoint.
- Modifying existing logic.
- Introducing new schemas or data models.

Testing is mandatory ‚Äî not optional.
